(this["webpackJsonpblog-admin"]=this["webpackJsonpblog-admin"]||[]).push([[0],{30:function(e,n,t){},57:function(e,n,t){"use strict";t.r(n);var a,r,c,i,o,s,d,l,p,u,h,j,b,x,m,f,O,g,v,w,y,k,S,T,z,C=t(1),A=t.n(C),E=t(19),U=t.n(E),F=(t(30),t(5)),N=t(10),P=t(4),D=t(2),B=t(3),I=Object(B.a)(N.b)(a||(a=Object(D.a)(["\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n  display: block;\n  color: #ffffff;\n"]))),q=t(0),L=B.a.ul(r||(r=Object(D.a)(["\n  margin: 0;\n  padding: 0;\n  display: flex;\n  li {\n    list-style-type: none;\n    padding: 1rem;\n    &:hover {\n      color: #14213d;\n      background-color: #e5e5e5;\n    }\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    flex-flow: column nowrap;\n    background-color: #14213d;\n    position: fixed;\n    transform: ",";\n    top: 3.5rem;\n    right: 0;\n    height: 15vh;\n    width: 100vw;\n    padding-top: 0;\n    transition: transform 0.3s ease-in-out;\n  }\n"])),(function(e){return e.open?"translateX(0)":"translateX(100%)"})),J=function(e){var n=e.setAuthorizedUser,t=e.open,a=e.setOpen;return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(L,{open:t,children:[Object(q.jsx)(I,{to:"/posts/create",onClick:function(){return a(!t)},children:Object(q.jsx)("li",{children:"Create post"})}),Object(q.jsx)(I,{onClick:function(e){localStorage.setItem("bearer",""),n(!1)},to:"/",children:Object(q.jsx)("li",{children:"Log out"})})]})})},X=B.a.div(c||(c=Object(D.a)(["\n  width: 2rem;\n  height: 2rem;\n  position: fixed;\n  top: 15px;\n  right: 20px;\n  z-index: 20;\n  display: none;\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    display: flex;\n    justify-content: space-around;\n    flex-flow: column nowrap;\n  }\n  div {\n    width: 2rem;\n    height: 0.25rem;\n    background-color: ",";\n    border-radius: 10px;\n    transform-origin: 1px;\n    transition: all 0.3s linear;\n    &:nth-child(1) {\n      transform: ",";\n    }\n    &:nth-child(2) {\n      transform: ",";\n      opacity: ",";\n    }\n    &:nth-child(3) {\n      transform: ",";\n    }\n  }\n"])),(function(e){return e.open?"#ca7d02":"#fff"}),(function(e){return e.open?"rotate(45deg)":"rotate(0)"}),(function(e){return e.open?"translateX(100%)":"translateX(0)"}),(function(e){return e.open?0:1}),(function(e){return e.open?"rotate(-45deg)":"rotate(0)"})),_=function(e){var n=e.setAuthorizedUser,t=Object(C.useState)(!1),a=Object(F.a)(t,2),r=a[0],c=a[1];return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(X,{open:r,onClick:function(){return c(!r)},children:[Object(q.jsx)("div",{}),Object(q.jsx)("div",{}),Object(q.jsx)("div",{})]}),Object(q.jsx)(J,{open:r,setOpen:c,setAuthorizedUser:n})]})},M=B.a.nav(i||(i=Object(D.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  background-color: #14213d;\n  .public,\n  .authorized {\n    font-weight: 400;\n    color: #ffffff;\n  }\n  .public {\n    margin: 1rem;\n  }\n  .authorized {\n    margin-left: 1rem;\n  }\n  @media (max-width: 400px) {\n    .authorized {\n      margin: 1rem;\n    }\n  }\n"]))),V=function(e){var n=e.authorizedUser,t=e.setAuthorizedUser;return Object(q.jsx)(M,{children:n?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(I,{to:"/",children:Object(q.jsx)("h1",{className:"authorized",children:"TOP Blog Admin"})}),Object(q.jsx)(_,{setAuthorizedUser:t})]}):Object(q.jsx)(I,{to:"/",children:Object(q.jsx)("h1",{className:"public",children:"TOP Blog Admin"})})})},W=t(7),Y=t.n(W),G=t(8),H=B.a.div(o||(o=Object(D.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n"]))),K=B.a.div(s||(s=Object(D.a)(["\n  height: auto;\n  width: 50vw;\n  margin: 10px 0;\n  padding: 20px;\n  background: #ffffff;\n  border: 0.5px solid #7a7a7a;\n  border-radius: 5px;\n\n  h2 {\n    margin: 5px auto;\n  }\n  hr {\n    margin: 10px auto;\n    border: none;\n    border-top: 1px solid #000;\n  }\n  .published {\n    color: #466ec3;\n  }\n  .unpublished {\n    color: #ca7d02;\n  }\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n    width: 80vw;\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    width: 90%;\n  }\n"]))),Q=B.a.div(d||(d=Object(D.a)(["\n  max-width: 100%;\n  text-align: left;\n"]))),R=B.a.p(l||(l=Object(D.a)(["\n  margin: 5px auto;\n"]))),Z=B.a.div(p||(p=Object(D.a)(["\n  margin: 10px auto;\n"]))),$=B.a.div(u||(u=Object(D.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  max-width: 100%;\n  margin: 0 auto;\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    flex-direction: column;\n  }\n"]))),ee=Object(B.a)(N.b)(h||(h=Object(D.a)(["\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n  color: #000;\n"]))),ne=function(e){var n=e.post._id,t=e.post.title,a=e.post.author.username,r=e.post.published,c=e.post.postDate,i=e.post.comments,o=e.post.text.substring(0,75)+"...";return Object(q.jsx)(H,{children:Object(q.jsxs)(K,{children:[Object(q.jsxs)(Q,{children:[Object(q.jsx)(ee,{to:"/posts/".concat(n),children:Object(q.jsx)("h2",{children:t})}),Object(q.jsxs)(R,{children:["By: ",a]}),Object(q.jsx)(Z,{children:o})]}),Object(q.jsx)("hr",{}),Object(q.jsxs)($,{children:[Object(q.jsxs)("div",{children:[Object(q.jsx)("p",{children:c}),0===i.length?Object(q.jsx)("p",{children:"No comments"}):1===i.length?Object(q.jsxs)("p",{children:[i.length," Comment"]}):Object(q.jsxs)("p",{children:[i.length," Comments"]})]}),r?Object(q.jsx)("p",{className:"published",children:"Published"}):Object(q.jsx)("p",{className:"unpublished",children:"Unpublished"})]})]})})},te=t(23),ae=t.n(te),re=B.a.div(j||(j=Object(D.a)(["\n  margin-top: 200px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n"]))),ce=function(){return Object(q.jsx)(re,{children:Object(q.jsx)(ae.a,{name:"ball-spin-fade-loader",color:"#FCA311"})})},ie=B.a.div(b||(b=Object(D.a)(["\n  margin: 10px 0;\n  color: #a9232e;\n"]))),oe=B.a.div(x||(x=Object(D.a)(["\n  margin-top: 80px;\n  display: flex;\n  flex-flow: column nowrap;\n  align-content: space-evenly;\n\n  h1 {\n    margin-bottom: 20px;\n    text-align: center;\n  }\n"]))),se=function(e){var n=e.userData,t=Object(C.useState)([]),a=Object(F.a)(t,2),r=a[0],c=a[1],i=Object(C.useState)(!1),o=Object(F.a)(i,2),s=o[0],d=o[1],l=Object(C.useState)(!1),p=Object(F.a)(l,2),u=p[0],h=p[1],j="https://rt-blog-api.herokuapp.com/posts";return Object(C.useEffect)((function(){function e(){return(e=Object(G.a)(Y.a.mark((function e(){var n,t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),d(!0),e.prev=2,e.next=5,fetch(j);case 5:return n=e.sent,e.next=8,n.json();case 8:t=e.sent,c(t.posts),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),h(!0);case 16:d(!1);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(q.jsxs)("div",{children:[u&&Object(q.jsx)(ie,{children:"An error occurred"}),s?Object(q.jsx)(ce,{}):Object(q.jsxs)(oe,{children:[Object(q.jsxs)("h1",{children:["Welcome ",n,"!"]}),r.map((function(e,n){return Object(q.jsx)("div",{children:Object(q.jsx)(ne,{post:r[n]})},e._id)}))]})]})},de=B.a.div(m||(m=Object(D.a)(["\n  margin: 10px 0;\n  color: #ca7d02;\n"]))),le=B.a.div(f||(f=Object(D.a)(["\n  margin: 80px auto 0 auto;\n  display: flex;\n  flex-flow: column wrap;\n  align-content: center;\n  width: 20vw;\n\n  form {\n    margin: 20px auto;\n    width: 100%;\n  }\n\n  input {\n    font-size: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    border-radius: 3px;\n    border: 1px solid #7a7a7a;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n  }\n\n  #username,\n  #password {\n    display: block;\n    width: 100%;\n    height: 40px;\n    margin: 10px auto;\n    font-size: 1em;\n    padding-left: 5px;\n  }\n  .submit {\n    margin-right: 10px;\n    padding: 10px;\n    text-align: center;\n    color: #ffffff;\n    background-color: #000000;\n    border-color: #7a7a7a;\n    border-radius: 3px;\n    font-weight: 100;\n  }\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n    form {\n      width: 50vw;\n    }\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    width: 90%;\n  }\n"]))),pe=Object(B.a)(I)(O||(O=Object(D.a)(["\n  display: inline;\n  color: #fca311;\n"]))),ue=function(){var e=Object(C.useState)(""),n=Object(F.a)(e,2),t=n[0],a=n[1],r=Object(C.useState)(""),c=Object(F.a)(r,2),i=c[0],o=c[1],s=Object(C.useState)(""),d=Object(F.a)(s,2),l=d[0],p=d[1],u=Object(C.useState)(""),h=Object(F.a)(u,2),j=h[0],b=h[1],x=Object(P.f)(),m=function(){var e=Object(G.a)(Y.a.mark((function e(n){var a,r,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:i})});case 4:return a=e.sent,e.next=7,a.json();case 7:(r=e.sent).errors?(c=[],r.errors.forEach((function(e){c.push("".concat(e.msg," "))})),p(c)):(p(""),b("".concat(r.message,". You'll be redirected to the Login page to log in.")),setTimeout((function(){x("/login")}),3e3)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(q.jsxs)(le,{children:[Object(q.jsx)("h1",{children:"Sign up"}),Object(q.jsxs)("form",{onSubmit:m,children:[Object(q.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(q.jsx)("input",{value:t,type:"text",id:"username",onChange:function(e){return a(e.target.value)},required:!0}),Object(q.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(q.jsx)("input",{value:i,type:"password",id:"password",onChange:function(e){return o(e.target.value)},required:!0}),Object(q.jsx)("input",{className:"submit",type:"submit",value:"Submit"})]}),Object(q.jsxs)("div",{children:["Already have an account?"," ",Object(q.jsx)(pe,{to:"/login",children:"Log in"})]}),l?Object(q.jsxs)(ie,{children:["Error: ",l]}):Object(q.jsx)(q.Fragment,{}),Object(q.jsx)(de,{children:j})]})},he=B.a.div(g||(g=Object(D.a)(["\n  margin: 80px auto 0 auto;\n  display: flex;\n  flex-flow: column wrap;\n  align-content: center;\n\n  form {\n    margin: 20px auto;\n    width: 20vw;\n  }\n\n  input {\n    font-size: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    border-radius: 3px;\n    border: 1px solid #7a7a7a;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n  }\n\n  #username,\n  #password {\n    display: block;\n    width: 100%;\n    height: 40px;\n    margin: 10px auto;\n    font-size: 1em;\n    padding-left: 5px;\n  }\n  .submit {\n    margin-right: 10px;\n    padding: 10px;\n    text-align: center;\n    color: #ffffff;\n    background-color: #000000;\n    border-color: #7a7a7a;\n    border-radius: 3px;\n    font-weight: 100;\n  }\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n    form {\n      width: 50vw;\n    }\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    form {\n      width: 90%;\n    }\n  }\n"]))),je=Object(B.a)(I)(v||(v=Object(D.a)(["\n  display: inline;\n  color: #fca311;\n"]))),be=function(e){var n=e.setAuthorizedUser,t=Object(C.useState)(""),a=Object(F.a)(t,2),r=a[0],c=a[1],i=Object(C.useState)(""),o=Object(F.a)(i,2),s=o[0],d=o[1],l=Object(C.useState)(""),p=Object(F.a)(l,2),u=p[0],h=p[1],j=Object(P.f)(),b=function(){var e=Object(G.a)(Y.a.mark((function e(t){var a,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:s})});case 4:return a=e.sent,e.next=7,a.json();case 7:(c=e.sent).token?(localStorage.setItem("bearer",c.token),localStorage.setItem("name",r),n(!0),j("/posts")):h(c.message),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(q.jsxs)(he,{children:[Object(q.jsx)("h1",{children:"Log in"}),Object(q.jsxs)("form",{onSubmit:b,children:[Object(q.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(q.jsx)("input",{value:r,type:"text",id:"username",onChange:function(e){return c(e.target.value)},required:!0}),Object(q.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(q.jsx)("input",{value:s,type:"password",id:"password",onChange:function(e){return d(e.target.value)},required:!0}),Object(q.jsx)("input",{className:"submit",type:"submit",value:"Submit"})]}),Object(q.jsxs)("div",{children:["Don't have an account?"," ",Object(q.jsx)(je,{to:"/signup",children:"Sign up"})]}),u?Object(q.jsxs)(ie,{children:["Error: ",u]}):Object(q.jsx)(q.Fragment,{})]})},xe=B.a.div(w||(w=Object(D.a)(["\n  margin: 80px auto 0 auto;\n  display: flex;\n  flex-flow: column wrap;\n  align-content: center;\n  form {\n    margin: 20px auto;\n    width: 40vw;\n  }\n  input,\n  button {\n    font-size: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    border-radius: 3px;\n    border: 1px solid #7a7a7a;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n  }\n  #newPostTitle {\n    display: block;\n    width: 100%;\n    height: 40px;\n    margin: 10px auto;\n    font-size: 1em;\n    padding-left: 5px;\n  }\n  textarea {\n    display: block;\n    width: 100%;\n    height: auto;\n    margin: 10px auto;\n    font-size: 1em;\n    padding: 10px 0 0 5px;\n  }\n  .submit {\n    margin-right: 10px;\n    padding: 10px;\n    text-align: center;\n    color: #ffffff;\n    background-color: #000000;\n    border-color: #7a7a7a;\n    border-radius: 3px;\n    font-weight: 100;\n  }\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n    form {\n      width: 80%;\n    }\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    form {\n      width: 90%;\n    }\n  }\n"]))),me=function(){var e=Object(C.useState)(""),n=Object(F.a)(e,2),t=n[0],a=n[1],r=Object(C.useState)(""),c=Object(F.a)(r,2),i=c[0],o=c[1],s=Object(C.useState)(""),d=Object(F.a)(s,2),l=d[0],p=d[1],u=Object(C.useState)(""),h=Object(F.a)(u,2),j=h[0],b=h[1],x=Object(P.f)(),m=localStorage.getItem("bearer"),f=function(){var e=Object(G.a)(Y.a.mark((function e(n){var a,r,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts",{method:"POST",headers:{Authorization:"Bearer ".concat(m),"Content-Type":"application/json"},body:JSON.stringify({title:t,text:i})});case 4:return a=e.sent,e.next=7,a.json();case 7:(r=e.sent).errors?(c=[],r.errors.forEach((function(e){c.push("".concat(e.msg," "))})),p(c)):(p(""),b(r.message),setTimeout((function(){x("/posts")}),1500)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(q.jsxs)(xe,{children:[Object(q.jsx)("h1",{children:"Create New Post"}),Object(q.jsxs)("form",{onSubmit:f,children:[Object(q.jsx)("label",{htmlFor:"postTitle",children:"Title:"}),Object(q.jsx)("input",{type:"text",id:"newPostTitle",onChange:function(e){return a(e.target.value)},required:!0}),Object(q.jsx)("label",{htmlFor:"postText",children:"Text:"}),Object(q.jsx)("textarea",{id:"newPostText",rows:"5",cols:"33",maxLength:"500",onChange:function(e){return o(e.target.value)},required:!0}),Object(q.jsx)("input",{className:"submit",type:"submit",value:"Submit"})]}),l?Object(q.jsxs)(ie,{children:["Error: ",l]}):Object(q.jsx)(q.Fragment,{}),Object(q.jsx)(de,{children:j})]})},fe=t(25),Oe=t(24),ge=B.a.div(y||(y=Object(D.a)(["\n  height: auto;\n  width: 100%;\n  margin: 10px 0;\n  padding: 10px;\n  background: #ffffff;\n  border-radius: 5px;\n  border: 0.5px solid #e5e5e5;\n  button {\n    background: #14213d;\n    margin-right: 5px;\n    width: 30px;\n    height: 30px;\n  }\n  .delete-btn {\n    color: #ca7d02;\n    margin: 5px 0;\n  }\n"]))),ve=B.a.div(k||(k=Object(D.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    flex-flow: column-reverse nowrap;\n  }\n"]))),we=B.a.p(S||(S=Object(D.a)(["\n  margin-bottom: 20px;\n  color: #7a7a7a;\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    padding-top: 10px;\n  }\n"]))),ye=function(e){var n=e.comment.author,t=e.comment.commentDate,a=e.comment.text,r=e.comment._id,c=(e.message,e.setMessage),i=(e.error,e.setError),o=Object(P.g)(),s=Object(P.f)(),d=localStorage.getItem("bearer"),l=function(){var e=Object(G.a)(Y.a.mark((function e(n){var t,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts/".concat(o.id,"/comments/").concat(r),{method:"DELETE",headers:{Authorization:"Bearer ".concat(d),"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,200===t.status&&(c(a.message),setTimeout((function(){s(0)}),1500)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.message),i(e.t0.status);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(q.jsxs)(ge,{children:[Object(q.jsxs)(ve,{children:[Object(q.jsxs)(we,{children:[n," \u2022 ",t]}),Object(q.jsx)("button",{children:Object(q.jsx)(Oe.a,{icon:fe.a,className:"delete-btn",onClick:l})})]}),Object(q.jsx)("p",{children:a})]})},ke=B.a.div(T||(T=Object(D.a)(["\n  margin: 80px auto 0 auto;\n  display: flex;\n  flex-flow: column wrap;\n  align-content: center;\n  form {\n    margin: 20px auto;\n    width: 40vw;\n  }\n  input,\n  button {\n    font-size: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    border-radius: 3px;\n    border: 1px solid #7a7a7a;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n  }\n\n  #postTitle {\n    display: block;\n    width: 100%;\n    height: 40px;\n    margin: 10px auto;\n    font-size: 1em;\n    padding-left: 5px;\n  }\n  textarea {\n    display: block;\n    width: 100%;\n    height: auto;\n    margin: 10px auto;\n    font-size: 1em;\n    padding: 10px 0 0 5px;\n  }\n  .submit,\n  .publish {\n    margin-right: 10px;\n    padding: 10px;\n    text-align: center;\n    color: #ffffff;\n    background-color: #000000;\n    border-color: #7a7a7a;\n    border-radius: 3px;\n    font-weight: 100;\n  }\n  .publish {\n    background-color: #466ec3;\n  }\n  .delete {\n    padding: 10px;\n    text-align: center;\n    background-color: #14213d;\n    border-color: #14213d;\n    border-radius: 3px;\n    color: #ffffff;\n    font-weight: 100;\n  }\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n    form {\n      width: 80%;\n    }\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    form {\n      width: 100%;\n    }\n    width: 90%;\n  }\n"]))),Se=B.a.div(z||(z=Object(D.a)(["\n  display: inline;\n"]))),Te=function(){var e=Object(C.useState)(""),n=Object(F.a)(e,2),t=n[0],a=n[1],r=Object(C.useState)(""),c=Object(F.a)(r,2),i=c[0],o=c[1],s=Object(C.useState)([]),d=Object(F.a)(s,2),l=d[0],p=d[1],u=Object(C.useState)(!1),h=Object(F.a)(u,2),j=h[0],b=h[1],x=Object(C.useState)(""),m=Object(F.a)(x,2),f=m[0],O=m[1],g=Object(C.useState)(""),v=Object(F.a)(g,2),w=v[0],y=v[1],k=Object(P.g)(),S=Object(P.f)(),T=localStorage.getItem("bearer");Object(C.useEffect)((function(){function e(){return(e=Object(G.a)(Y.a.mark((function e(){var n,t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts/".concat(k.id));case 4:return n=e.sent,e.next=7,n.json();case 7:t=e.sent,a(t.post.title),o(t.post.text),p(t.post.comments),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:b(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var z=function(){var e=Object(G.a)(Y.a.mark((function e(n){var a,r,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts/".concat(k.id),{method:"PUT",headers:{Authorization:"Bearer ".concat(T),"Content-Type":"application/json"},body:JSON.stringify({title:t,text:i})});case 4:return a=e.sent,e.next=7,a.json();case 7:(r=e.sent).errors?(c=[],r.errors.forEach((function(e){c.push("".concat(e.msg," "))})),O(c)):(O(""),y(r.message),setTimeout((function(){S("/posts")}),1500)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),O("There was a problem with updating your post. Check if you're logged in.");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),A=function(){var e=Object(G.a)(Y.a.mark((function e(n){var t,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts/".concat(k.id,"/publish"),{method:"PUT",headers:{Authorization:"Bearer ".concat(T),"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,200===t.status&&(O(""),y(a.message),setTimeout((function(){S("/posts")}),1500)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),O("There was a problem with publishing your post. Check if you're logged in.");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),E=function(){var e=Object(G.a)(Y.a.mark((function e(n){var t,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts/".concat(k.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(T),"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,200===t.status&&(O(""),y(a.message),setTimeout((function(){S("/posts")}),1500)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),O("There was a problem with deleting your post. Check if you're logged in.");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(q.jsx)(q.Fragment,{children:j?Object(q.jsx)(ce,{}):Object(q.jsxs)(ke,{children:[Object(q.jsx)("h1",{children:"Post Editor"}),Object(q.jsxs)("form",{onSubmit:z,children:[Object(q.jsx)("label",{htmlFor:"postTitle",children:"Title:"}),Object(q.jsx)("input",{defaultValue:t,type:"text",id:"postTitle",onChange:function(e){return a(e.target.value)},required:!0}),Object(q.jsx)("label",{htmlFor:"postText",children:"Text:"}),Object(q.jsx)("textarea",{value:i,id:"postText",rows:"5",cols:"33",maxLength:"500",onChange:function(e){return o(e.target.value)},required:!0}),Object(q.jsxs)(Se,{children:[Object(q.jsx)("input",{className:"submit",type:"submit",value:"Update Post"}),Object(q.jsx)("button",{className:"publish",type:"button",onClick:A,children:"Publish"}),Object(q.jsx)("button",{className:"delete",type:"button",onClick:E,children:"Delete"})]})]}),f?Object(q.jsxs)(ie,{children:["Error: ",f]}):Object(q.jsx)(q.Fragment,{}),Object(q.jsx)(de,{children:w}),Object(q.jsxs)("div",{children:[Object(q.jsx)("h1",{children:"Comments"}),l&&l.length>0?l.map((function(e){return Object(q.jsx)("div",{children:Object(q.jsx)(ye,{comment:e,message:w,setMessage:y,error:f,setError:O})},e._id)})):Object(q.jsx)("p",{children:"There are no comments."})]})]})})};var ze=function(){var e=Object(C.useState)(!1),n=Object(F.a)(e,2),t=n[0],a=n[1],r=Object(C.useState)(""),c=Object(F.a)(r,2),i=c[0],o=c[1];return Object(C.useEffect)((function(){var e=localStorage.getItem("bearer"),n=localStorage.getItem("name");e?(a(!0),o(n)):(a(!1),o(""))}),[]),Object(q.jsxs)(N.a,{basename:"/",children:[Object(q.jsx)(V,{authorizedUser:t,setAuthorizedUser:a}),Object(q.jsxs)(P.c,{children:[Object(q.jsx)(P.a,{exact:!0,path:"/",element:t?Object(q.jsx)(se,{userData:i}):Object(q.jsx)(be,{setAuthorizedUser:a})}),Object(q.jsx)(P.a,{path:"/posts",element:t?Object(q.jsx)(se,{userData:i}):Object(q.jsx)(be,{setAuthorizedUser:a})}),Object(q.jsx)(P.a,{path:"/posts/:id",element:t?Object(q.jsx)(Te,{}):Object(q.jsx)(be,{setAuthorizedUser:a})}),Object(q.jsx)(P.a,{path:"/posts/create",element:Object(q.jsx)(me,{})}),Object(q.jsx)(P.a,{path:"/login",element:Object(q.jsx)(be,{setAuthorizedUser:a})}),Object(q.jsx)(P.a,{path:"/signup",element:Object(q.jsx)(ue,{})})]})]})};U.a.render(Object(q.jsx)(A.a.StrictMode,{children:Object(q.jsx)(ze,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.00215ba6.chunk.js.map