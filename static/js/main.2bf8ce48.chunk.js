(this["webpackJsonpblog-admin"]=this["webpackJsonpblog-admin"]||[]).push([[0],{30:function(e,n,t){},57:function(e,n,t){"use strict";t.r(n);var r,a,i,c,o,s,d,p,l,u,h,b,j,x,m,f,O,g,v,w,y,k,S,T,z,C=t(1),D=t.n(C),U=t(19),A=t.n(U),F=(t(30),t(5)),P=t(10),E=t(4),N=t(2),B=t(3),q=Object(B.a)(P.b)(r||(r=Object(N.a)(["\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n  display: block;\n  color: #ffffff;\n"]))),L=t(0),I=B.a.ul(a||(a=Object(N.a)(["\n  margin: 0;\n  padding: 0;\n  display: flex;\n  li {\n    list-style-type: none;\n    padding: 1rem;\n    &:hover {\n      color: #14213d;\n      background-color: #e5e5e5;\n    }\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    flex-flow: column nowrap;\n    background-color: #14213d;\n    position: fixed;\n    transform: ",";\n    top: 3.5rem;\n    right: 0;\n    height: 15vh;\n    width: 100vw;\n    padding-top: 0;\n    transition: transform 0.3s ease-in-out;\n  }\n"])),(function(e){return e.open?"translateX(0)":"translateX(100%)"})),J=function(e){var n=e.setAuthorizedUser,t=e.setUserData,r=e.open,a=e.setOpen;return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(I,{open:r,children:[Object(L.jsx)(q,{to:"/posts/create",onClick:function(){return a(!r)},children:Object(L.jsx)("li",{children:"Create post"})}),Object(L.jsx)(q,{onClick:function(e){localStorage.setItem("bearer",""),n(!1),t("")},to:"/",children:Object(L.jsx)("li",{children:"Log out"})})]})})},M=B.a.div(i||(i=Object(N.a)(["\n  width: 2rem;\n  height: 2rem;\n  position: fixed;\n  top: 15px;\n  right: 20px;\n  z-index: 20;\n  display: none;\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    display: flex;\n    justify-content: space-around;\n    flex-flow: column nowrap;\n  }\n  div {\n    width: 2rem;\n    height: 0.25rem;\n    background-color: ",";\n    border-radius: 10px;\n    transform-origin: 1px;\n    transition: all 0.3s linear;\n    &:nth-child(1) {\n      transform: ",";\n    }\n    &:nth-child(2) {\n      transform: ",";\n      opacity: ",";\n    }\n    &:nth-child(3) {\n      transform: ",";\n    }\n  }\n"])),(function(e){return e.open?"#ca7d02":"#fff"}),(function(e){return e.open?"rotate(45deg)":"rotate(0)"}),(function(e){return e.open?"translateX(100%)":"translateX(0)"}),(function(e){return e.open?0:1}),(function(e){return e.open?"rotate(-45deg)":"rotate(0)"})),X=function(e){var n=e.setAuthorizedUser,t=e.setUserData,r=Object(C.useState)(!1),a=Object(F.a)(r,2),i=a[0],c=a[1];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(M,{open:i,onClick:function(){return c(!i)},children:[Object(L.jsx)("div",{}),Object(L.jsx)("div",{}),Object(L.jsx)("div",{})]}),Object(L.jsx)(J,{open:i,setOpen:c,setAuthorizedUser:n,setUserData:t})]})},_=B.a.nav(c||(c=Object(N.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  background-color: #14213d;\n  .public,\n  .authorized {\n    font-weight: 400;\n    color: #ffffff;\n  }\n  .public {\n    margin: 1rem;\n  }\n  .authorized {\n    margin-left: 1rem;\n  }\n  @media (max-width: 400px) {\n    .authorized {\n      margin: 1rem;\n    }\n  }\n"]))),V=function(e){var n=e.authorizedUser,t=e.setAuthorizedUser,r=e.setUserData;return Object(L.jsx)(_,{children:n?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(q,{to:"/",children:Object(L.jsx)("h1",{className:"authorized",children:"TOP Blog Admin"})}),Object(L.jsx)(X,{setAuthorizedUser:t,setUserData:r})]}):Object(L.jsx)(q,{to:"/",children:Object(L.jsx)("h1",{className:"public",children:"TOP Blog Admin"})})})},W=t(7),Y=t.n(W),G=t(8),H=B.a.div(o||(o=Object(N.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n"]))),K=B.a.div(s||(s=Object(N.a)(["\n  height: auto;\n  width: 50vw;\n  margin: 10px 0;\n  padding: 20px;\n  background: #ffffff;\n  border: 0.5px solid #7a7a7a;\n  border-radius: 5px;\n\n  h2 {\n    margin: 5px auto;\n  }\n  hr {\n    margin: 10px auto;\n    border: none;\n    border-top: 1px solid #000;\n  }\n  .published {\n    color: #466ec3;\n  }\n  .unpublished {\n    color: #ca7d02;\n  }\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n    width: 80vw;\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    width: 90%;\n  }\n"]))),Q=B.a.div(d||(d=Object(N.a)(["\n  max-width: 100%;\n  text-align: left;\n"]))),R=B.a.p(p||(p=Object(N.a)(["\n  margin: 5px auto;\n"]))),Z=B.a.div(l||(l=Object(N.a)(["\n  margin: 10px auto;\n"]))),$=B.a.div(u||(u=Object(N.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  max-width: 100%;\n  margin: 0 auto;\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    flex-direction: column;\n  }\n"]))),ee=Object(B.a)(P.b)(h||(h=Object(N.a)(["\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n  color: #000;\n"]))),ne=function(e){var n=e.post._id,t=e.post.title,r=e.post.author.username,a=e.post.published,i=e.post.postDate,c=e.post.comments,o=e.post.text.substring(0,75)+"...",s=function(e){return(new DOMParser).parseFromString(e,"text/html").body.innerText};return Object(L.jsx)(H,{children:Object(L.jsxs)(K,{children:[Object(L.jsxs)(Q,{children:[Object(L.jsx)(ee,{to:"/posts/".concat(n),children:Object(L.jsx)("h2",{children:s(t)})}),Object(L.jsxs)(R,{children:["By: ",r]}),Object(L.jsx)(Z,{children:s(o)})]}),Object(L.jsx)("hr",{}),Object(L.jsxs)($,{children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{children:i}),0===c.length?Object(L.jsx)("p",{children:"No comments"}):1===c.length?Object(L.jsxs)("p",{children:[c.length," Comment"]}):Object(L.jsxs)("p",{children:[c.length," Comments"]})]}),a?Object(L.jsx)("p",{className:"published",children:"Published"}):Object(L.jsx)("p",{className:"unpublished",children:"Unpublished"})]})]})})},te=t(23),re=t.n(te),ae=B.a.div(b||(b=Object(N.a)(["\n  margin-top: 200px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n"]))),ie=function(){return Object(L.jsx)(ae,{children:Object(L.jsx)(re.a,{name:"ball-spin-fade-loader",color:"#FCA311"})})},ce=B.a.div(j||(j=Object(N.a)(["\n  margin: 10px 0;\n  color: #a9232e;\n"]))),oe=B.a.div(x||(x=Object(N.a)(["\n  margin-top: 80px;\n  display: flex;\n  flex-flow: column nowrap;\n  align-content: space-evenly;\n\n  h1 {\n    margin-bottom: 20px;\n    text-align: center;\n  }\n"]))),se=function(e){var n=e.userData,t=Object(C.useState)([]),r=Object(F.a)(t,2),a=r[0],i=r[1],c=Object(C.useState)(!1),o=Object(F.a)(c,2),s=o[0],d=o[1],p=Object(C.useState)(!1),l=Object(F.a)(p,2),u=l[0],h=l[1],b="https://rt-blog-api.herokuapp.com/posts";return Object(C.useEffect)((function(){function e(){return(e=Object(G.a)(Y.a.mark((function e(){var t,r,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),d(!0),e.prev=2,e.next=5,fetch(b);case 5:return t=e.sent,e.next=8,t.json();case 8:r=e.sent,a=r.posts.filter((function(e){return e.author.username===n})),i(a),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),h(!0);case 17:d(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(L.jsxs)("div",{children:[u&&Object(L.jsx)(ce,{children:"An error occurred"}),s?Object(L.jsx)(ie,{}):Object(L.jsxs)(oe,{children:[Object(L.jsxs)("h1",{children:["Welcome ",n,"!"]}),a.map((function(e,n){return Object(L.jsx)("div",{children:Object(L.jsx)(ne,{post:a[n]})},e._id)}))]})]})},de=B.a.div(m||(m=Object(N.a)(["\n  margin: 10px 0;\n  color: #ca7d02;\n"]))),pe=B.a.div(f||(f=Object(N.a)(["\n  margin: 80px auto 0 auto;\n  display: flex;\n  flex-flow: column wrap;\n  align-content: center;\n  width: 20vw;\n\n  form {\n    margin: 20px auto;\n    width: 100%;\n  }\n\n  input {\n    font-size: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    border-radius: 3px;\n    border: 1px solid #7a7a7a;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n  }\n\n  #username,\n  #password {\n    display: block;\n    width: 100%;\n    height: 40px;\n    margin: 10px auto;\n    font-size: 1em;\n    padding-left: 5px;\n  }\n  .submit {\n    margin-right: 10px;\n    padding: 10px;\n    text-align: center;\n    color: #ffffff;\n    background-color: #000000;\n    border-color: #7a7a7a;\n    border-radius: 3px;\n    font-weight: 100;\n  }\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n    form {\n      width: 50vw;\n    }\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    width: 90%;\n  }\n"]))),le=Object(B.a)(q)(O||(O=Object(N.a)(["\n  display: inline;\n  color: #fca311;\n"]))),ue=function(){var e=Object(C.useState)(""),n=Object(F.a)(e,2),t=n[0],r=n[1],a=Object(C.useState)(""),i=Object(F.a)(a,2),c=i[0],o=i[1],s=Object(C.useState)(""),d=Object(F.a)(s,2),p=d[0],l=d[1],u=Object(C.useState)(""),h=Object(F.a)(u,2),b=h[0],j=h[1],x=Object(E.f)(),m=function(){var e=Object(G.a)(Y.a.mark((function e(n){var r,a,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:c})});case 4:return r=e.sent,e.next=7,r.json();case 7:(a=e.sent).errors?(i=[],a.errors.forEach((function(e){i.push("".concat(e.msg," "))})),l(i)):(l(""),j("".concat(a.message,". You'll be redirected to the Login page to log in.")),setTimeout((function(){x("/login")}),3e3)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(L.jsxs)(pe,{children:[Object(L.jsx)("h1",{children:"Sign up"}),Object(L.jsxs)("form",{onSubmit:m,children:[Object(L.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(L.jsx)("input",{value:t,type:"text",id:"username",onChange:function(e){return r(e.target.value)},required:!0}),Object(L.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(L.jsx)("input",{value:c,type:"password",id:"password",onChange:function(e){return o(e.target.value)},required:!0}),Object(L.jsx)("input",{className:"submit",type:"submit",value:"Submit"})]}),Object(L.jsxs)("div",{children:["Already have an account?"," ",Object(L.jsx)(le,{to:"/login",children:"Log in"})]}),p?Object(L.jsxs)(ce,{children:["Error: ",p]}):Object(L.jsx)(L.Fragment,{}),Object(L.jsx)(de,{children:b})]})},he=B.a.div(g||(g=Object(N.a)(["\n  margin: 80px auto 0 auto;\n  display: flex;\n  flex-flow: column wrap;\n  align-content: center;\n\n  form {\n    margin: 20px auto;\n    width: 20vw;\n  }\n\n  input {\n    font-size: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    border-radius: 3px;\n    border: 1px solid #7a7a7a;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n  }\n\n  #username,\n  #password {\n    display: block;\n    width: 100%;\n    height: 40px;\n    margin: 10px auto;\n    font-size: 1em;\n    padding-left: 5px;\n  }\n  .submit {\n    margin-right: 10px;\n    padding: 10px;\n    text-align: center;\n    color: #ffffff;\n    background-color: #000000;\n    border-color: #7a7a7a;\n    border-radius: 3px;\n    font-weight: 100;\n  }\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n    form {\n      width: 50vw;\n    }\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    form {\n      width: 90%;\n    }\n  }\n"]))),be=Object(B.a)(q)(v||(v=Object(N.a)(["\n  display: inline;\n  color: #fca311;\n"]))),je=function(e){var n=e.setAuthorizedUser,t=e.setUserData,r=Object(C.useState)(""),a=Object(F.a)(r,2),i=a[0],c=a[1],o=Object(C.useState)(""),s=Object(F.a)(o,2),d=s[0],p=s[1],l=Object(C.useState)(""),u=Object(F.a)(l,2),h=u[0],b=u[1],j=Object(E.f)(),x=function(){var e=Object(G.a)(Y.a.mark((function e(r){var a,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:d})});case 4:return a=e.sent,e.next=7,a.json();case 7:(c=e.sent).token?(localStorage.setItem("bearer",c.token),t(i),n(!0),j("/posts")):b(c.message),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(L.jsxs)(he,{children:[Object(L.jsx)("h1",{children:"Log in"}),Object(L.jsxs)("form",{onSubmit:x,children:[Object(L.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(L.jsx)("input",{value:i,type:"text",id:"username",onChange:function(e){return c(e.target.value)},required:!0}),Object(L.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(L.jsx)("input",{value:d,type:"password",id:"password",onChange:function(e){return p(e.target.value)},required:!0}),Object(L.jsx)("input",{className:"submit",type:"submit",value:"Submit"})]}),Object(L.jsxs)("div",{children:["Don't have an account?"," ",Object(L.jsx)(be,{to:"/signup",children:"Sign up"})]}),h?Object(L.jsxs)(ce,{children:["Error: ",h]}):Object(L.jsx)(L.Fragment,{})]})},xe=B.a.div(w||(w=Object(N.a)(["\n  margin: 80px auto 0 auto;\n  display: flex;\n  flex-flow: column wrap;\n  align-content: center;\n  form {\n    margin: 20px auto;\n    width: 40vw;\n  }\n  input,\n  button {\n    font-size: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    border-radius: 3px;\n    border: 1px solid #7a7a7a;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n  }\n  #newPostTitle {\n    display: block;\n    width: 100%;\n    height: 40px;\n    margin: 10px auto;\n    font-size: 1em;\n    padding-left: 5px;\n  }\n  textarea {\n    display: block;\n    width: 100%;\n    height: auto;\n    margin: 10px auto;\n    font-size: 1em;\n    padding: 10px 0 0 5px;\n  }\n  .submit {\n    margin-right: 10px;\n    padding: 10px;\n    text-align: center;\n    color: #ffffff;\n    background-color: #000000;\n    border-color: #7a7a7a;\n    border-radius: 3px;\n    font-weight: 100;\n  }\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n    form {\n      width: 80%;\n    }\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    form {\n      width: 90%;\n    }\n  }\n"]))),me=function(){var e=Object(C.useState)(""),n=Object(F.a)(e,2),t=n[0],r=n[1],a=Object(C.useState)(""),i=Object(F.a)(a,2),c=i[0],o=i[1],s=Object(C.useState)(""),d=Object(F.a)(s,2),p=d[0],l=d[1],u=Object(C.useState)(""),h=Object(F.a)(u,2),b=h[0],j=h[1],x=Object(E.f)(),m=localStorage.getItem("bearer"),f=function(){var e=Object(G.a)(Y.a.mark((function e(n){var r,a,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts",{method:"POST",headers:{Authorization:"Bearer ".concat(m),"Content-Type":"application/json"},body:JSON.stringify({title:t,text:c})});case 4:return r=e.sent,e.next=7,r.json();case 7:(a=e.sent).errors?(i=[],a.errors.forEach((function(e){i.push("".concat(e.msg," "))})),l(i)):(l(""),j(a.message),setTimeout((function(){x("/posts")}),1500)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(L.jsxs)(xe,{children:[Object(L.jsx)("h1",{children:"Create New Post"}),Object(L.jsxs)("form",{onSubmit:f,children:[Object(L.jsx)("label",{htmlFor:"postTitle",children:"Title:"}),Object(L.jsx)("input",{type:"text",id:"newPostTitle",onChange:function(e){return r(e.target.value)},required:!0}),Object(L.jsx)("label",{htmlFor:"postText",children:"Text:"}),Object(L.jsx)("textarea",{id:"newPostText",rows:"5",cols:"33",maxLength:"500",onChange:function(e){return o(e.target.value)},required:!0}),Object(L.jsx)("input",{className:"submit",type:"submit",value:"Submit"})]}),p?Object(L.jsxs)(ce,{children:["Error: ",p]}):Object(L.jsx)(L.Fragment,{}),Object(L.jsx)(de,{children:b})]})},fe=t(25),Oe=t(24),ge=B.a.div(y||(y=Object(N.a)(["\n  height: auto;\n  width: 100%;\n  margin: 10px 0;\n  padding: 10px;\n  background: #ffffff;\n  border-radius: 5px;\n  border: 0.5px solid #e5e5e5;\n  button {\n    background: #14213d;\n    margin-right: 5px;\n    width: 30px;\n    height: 30px;\n  }\n  .delete-btn {\n    color: #ca7d02;\n    margin: 5px 0;\n  }\n"]))),ve=B.a.div(k||(k=Object(N.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    flex-flow: column-reverse nowrap;\n  }\n"]))),we=B.a.p(S||(S=Object(N.a)(["\n  margin-bottom: 20px;\n  color: #7a7a7a;\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    padding-top: 10px;\n  }\n"]))),ye=function(e){var n=e.comment.author,t=e.comment.commentDate,r=e.comment.text,a=e.comment._id,i=(e.message,e.setMessage),c=(e.error,e.setError),o=Object(E.g)(),s=Object(E.f)(),d=localStorage.getItem("bearer"),p=function(){var e=Object(G.a)(Y.a.mark((function e(n){var t,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts/".concat(o.id,"/comments/").concat(a),{method:"DELETE",headers:{Authorization:"Bearer ".concat(d),"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:r=e.sent,200===t.status&&(i(r.message),setTimeout((function(){s(0)}),1500)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.message),c(e.t0.status);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(L.jsxs)(ge,{children:[Object(L.jsxs)(ve,{children:[Object(L.jsxs)(we,{children:[n," \u2022 ",t]}),Object(L.jsx)("button",{children:Object(L.jsx)(Oe.a,{icon:fe.a,className:"delete-btn",onClick:p})})]}),Object(L.jsx)("p",{children:function(e){return(new DOMParser).parseFromString(e,"text/html").body.innerText}(r)})]})},ke=B.a.div(T||(T=Object(N.a)(["\n  margin: 80px auto 0 auto;\n  display: flex;\n  flex-flow: column wrap;\n  align-content: center;\n  form {\n    margin: 20px auto;\n    width: 40vw;\n  }\n  input,\n  button {\n    font-size: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    border-radius: 3px;\n    border: 1px solid #7a7a7a;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n  }\n\n  #postTitle {\n    display: block;\n    width: 100%;\n    height: 40px;\n    margin: 10px auto;\n    font-size: 1em;\n    padding-left: 5px;\n  }\n  textarea {\n    display: block;\n    width: 100%;\n    height: auto;\n    margin: 10px auto;\n    font-size: 1em;\n    padding: 10px 0 0 5px;\n  }\n  .submit,\n  .publish {\n    margin-right: 10px;\n    padding: 10px;\n    text-align: center;\n    color: #ffffff;\n    background-color: #000000;\n    border-color: #7a7a7a;\n    border-radius: 3px;\n    font-weight: 100;\n  }\n  .publish {\n    background-color: #466ec3;\n  }\n  .delete {\n    padding: 10px;\n    text-align: center;\n    background-color: #14213d;\n    border-color: #14213d;\n    border-radius: 3px;\n    color: #ffffff;\n    font-weight: 100;\n  }\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n    form {\n      width: 80%;\n    }\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    form {\n      width: 100%;\n    }\n    width: 90%;\n  }\n"]))),Se=B.a.div(z||(z=Object(N.a)(["\n  display: inline;\n"]))),Te=function(){var e=Object(C.useState)(""),n=Object(F.a)(e,2),t=n[0],r=n[1],a=Object(C.useState)(""),i=Object(F.a)(a,2),c=i[0],o=i[1],s=Object(C.useState)([]),d=Object(F.a)(s,2),p=d[0],l=d[1],u=Object(C.useState)(!1),h=Object(F.a)(u,2),b=h[0],j=h[1],x=Object(C.useState)(""),m=Object(F.a)(x,2),f=m[0],O=m[1],g=Object(C.useState)(""),v=Object(F.a)(g,2),w=v[0],y=v[1],k=function(e){return(new DOMParser).parseFromString(e,"text/html").body.innerText},S=Object(E.g)(),T=Object(E.f)(),z=localStorage.getItem("bearer");Object(C.useEffect)((function(){function e(){return(e=Object(G.a)(Y.a.mark((function e(){var n,t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts/".concat(S.id));case 4:return n=e.sent,e.next=7,n.json();case 7:t=e.sent,r(t.post.title),o(t.post.text),l(t.post.comments),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:j(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var D=function(){var e=Object(G.a)(Y.a.mark((function e(n){var r,a,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts/".concat(S.id),{method:"PUT",headers:{Authorization:"Bearer ".concat(z),"Content-Type":"application/json"},body:JSON.stringify({title:t,text:c})});case 4:return r=e.sent,e.next=7,r.json();case 7:(a=e.sent).errors?(i=[],a.errors.forEach((function(e){i.push("".concat(e.msg," "))})),O(i)):(O(""),y(a.message),setTimeout((function(){T("/posts")}),1500)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),O("There was a problem with updating your post. Check if you're logged in.");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=Object(G.a)(Y.a.mark((function e(n){var t,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts/".concat(S.id,"/publish"),{method:"PUT",headers:{Authorization:"Bearer ".concat(z),"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:r=e.sent,200===t.status&&(O(""),y(r.message),setTimeout((function(){T("/posts")}),1500)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),O("There was a problem with publishing your post. Check if you're logged in.");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),A=function(){var e=Object(G.a)(Y.a.mark((function e(n){var t,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts/".concat(S.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(z),"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:r=e.sent,200===t.status&&(O(""),y(r.message),setTimeout((function(){T("/posts")}),1500)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),O("There was a problem with deleting your post. Check if you're logged in.");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(L.jsx)(L.Fragment,{children:b?Object(L.jsx)(ie,{}):Object(L.jsxs)(ke,{children:[Object(L.jsx)("h1",{children:"Post Editor"}),Object(L.jsxs)("form",{onSubmit:D,children:[Object(L.jsx)("label",{htmlFor:"postTitle",children:"Title:"}),Object(L.jsx)("input",{defaultValue:k(t),type:"text",id:"postTitle",onChange:function(e){return r(e.target.value)},required:!0}),Object(L.jsx)("label",{htmlFor:"postText",children:"Text:"}),Object(L.jsx)("textarea",{value:k(c),id:"postText",rows:"5",cols:"33",maxLength:"500",onChange:function(e){return o(e.target.value)},required:!0}),Object(L.jsxs)(Se,{children:[Object(L.jsx)("input",{className:"submit",type:"submit",value:"Update Post"}),Object(L.jsx)("button",{className:"publish",type:"button",onClick:U,children:"Publish"}),Object(L.jsx)("button",{className:"delete",type:"button",onClick:A,children:"Delete"})]})]}),f?Object(L.jsxs)(ce,{children:["Error: ",f]}):Object(L.jsx)(L.Fragment,{}),Object(L.jsx)(de,{children:w}),Object(L.jsxs)("div",{children:[Object(L.jsx)("h1",{children:"Comments"}),p&&p.length>0?p.map((function(e){return Object(L.jsx)("div",{children:Object(L.jsx)(ye,{comment:e,message:w,setMessage:y,error:f,setError:O})},e._id)})):Object(L.jsx)("p",{children:"There are no comments."})]})]})})};var ze=function(){var e=Object(C.useState)(!1),n=Object(F.a)(e,2),t=n[0],r=n[1],a=Object(C.useState)(""),i=Object(F.a)(a,2),c=i[0],o=i[1];return Object(L.jsxs)(P.a,{basename:"/",children:[Object(L.jsx)(V,{authorizedUser:t,setAuthorizedUser:r,setUserData:o}),Object(L.jsxs)(E.c,{children:[Object(L.jsx)(E.a,{exact:!0,path:"/",element:t?Object(L.jsx)(se,{userData:c}):Object(L.jsx)(je,{setAuthorizedUser:r,setUserData:o})}),Object(L.jsx)(E.a,{path:"/posts",element:t?Object(L.jsx)(se,{userData:c}):Object(L.jsx)(je,{setAuthorizedUser:r,setUserData:o})}),Object(L.jsx)(E.a,{path:"/posts/:id",element:t?Object(L.jsx)(Te,{}):Object(L.jsx)(je,{setAuthorizedUser:r,setUserData:o})}),Object(L.jsx)(E.a,{path:"/posts/create",element:Object(L.jsx)(me,{})}),Object(L.jsx)(E.a,{path:"/login",element:Object(L.jsx)(je,{setAuthorizedUser:r,setUserData:o})}),Object(L.jsx)(E.a,{path:"/signup",element:Object(L.jsx)(ue,{})})]})]})};A.a.render(Object(L.jsx)(D.a.StrictMode,{children:Object(L.jsx)(ze,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.2bf8ce48.chunk.js.map